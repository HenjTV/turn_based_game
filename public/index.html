<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turn-Based Game</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Login Screen -->
    <div id="login" class="hidden">
        <h1>Login</h1>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <div class="auth-buttons">
                <button type="button" id="loginBtn">Login</button>
                <button type="button" id="registerBtn">Register</button>
            </div>
        </form>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="hidden">
        <!-- Navigation Bar -->
        <nav class="main-nav">
            <button data-view="lobby" class="nav-btn active">Lobby</button>
            <button data-view="leaderboard" class="nav-btn">Leaderboard</button>
            <button data-view="stories" class="nav-btn">Stories</button>
            <button data-view="options" class="nav-btn">Options</button>
            <button data-view="about" class="nav-btn">About</button>
        </nav>

        <!-- Content Container -->
        <div id="content-container">
            <!-- Default Lobby View -->
            <div id="lobby-view" class="view active">
                <div class="lobby-controls">
                    <button id="start-game">Find Match</button>
                    <div class="character-select" id="characterSelect">
                        <img id="selected-character-img" alt="Selected character">
                    </div>
                </div>
                <div id="matchmaking-overlay" class="hidden">
                    <div id="matchmaking-status">
                        <div class="loading-animation"></div>
                        <p>Searching for opponent...</p>
                        <button id="cancel-matchmaking">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Other Views -->
            <div id="leaderboard-view" class="view"></div>
            <div id="stories-view" class="view"></div>
            <div id="options-view" class="view"></div>
            <div id="about-view" class="view"></div>
        </div>
    </div>

    <div id="game" class="hidden">
        <h1>Game</h1>
        <div class="game-container">
            <div class="player-section">
                <h2 id="playerName">You</h2>
                <div class="player-info">
                    <div class="status-bars">
                        <div id="playerHp" class="stat-container">
                            <div class="stat-bar">
                                <div class="hp-current stat-current"></div>
                            </div>
                            <span class="stat-text hp-text">100/100 HP</span>
                        </div>
                        <div id="playerResource" class="stat-container">
                            <div class="stat-bar">
                                <div class="resource-current stat-current"></div>
                            </div>
                            <span class="stat-text resource-text">100/100 R</span>
                        </div>
                    </div>
                    <div class="character-portrait">
                        <img id="playerCharacter" alt="Your character">
                    </div>
                </div>
                <div id="move-buttons">
                    <button data-move="attack">Attack</button>
                    <button data-move="defend">Defend</button>
                    <button data-move="parry">Parry</button>
                    <button data-move="kick">Kick</button>
                    <button data-move="heal">Heal</button>
                </div>
                 <div class="power-bar-container">
                    <label for="powerBar">Power Bar: <span id="powerBarValue">0</span></label>
                    <input type="range" id="powerBar" min="1" max="100" value="0" step="1">
                </div>
            </div>
            <div class="enemy-section">
                <h2 id="opponentName">Opponent</h2>
                <div class="opponent-info">
                    <div class="character-portrait">
                        <img id="opponentCharacter" alt="Opponent character">
                    </div>
                    <div class="status-bars">
                        <div id="opponentResource" class="stat-container">
                            <div class="stat-bar">
                                <div class="resource-current stat-current"></div>
                            </div>
                            <span class="stat-text resource-text">100/100 R</span>
                        </div>
                        <div id="opponentHp" class="stat-container">
                            <div class="stat-bar">
                                <div class="hp-current stat-current"></div>
                            </div>
                            <span class="stat-text hp-text">100/100 HP</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="gameover-overlay" class="hidden">
            <div id="gameover-status">
                <div class="loading-animation"></div>
                <p>Match ended! Winner:</p>
                <button id="close-gameover">Close</button>
            </div>
        </div>
        <!-- Disconnect Button Below the Game Window -->
        <div class="disconnect-container">
            <button id="disconnectButton" class="disconnect-button">Disconnect</button>
        </div>
    </div>

    <div id="waiting-message">
        <p>Waiting for another player...</p>
    </div>

    <script type="module" src="client.js"></script>
</body>

</html>